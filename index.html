<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Precision Age Calculator | Accurate Chronological Analysis</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Add Bengali Font -->
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Add Professional Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary: #7c3aed;
      --primary-dark: #6d28d9;
      --secondary: #475569;
      --accent: #8b5cf6;
      --success: #10b981;
      --info: #0ea5e9;
      --warning: #f59e0b;
      --danger: #ef4444;
      --card-bg: #ffffff;
      --soft-bg: #f8fafc;
      --text-primary: #1e293b;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --page-grad: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      --card-shadow: 0 8px 32px rgba(0,0,0,0.08);
      --bengali-font: 'Hind Siliguri', sans-serif;
      --professional-font: 'Poppins', sans-serif;
      
      /* Enhanced Professional Color Palette */
      --color-sapphire: #2563eb;
      --color-emerald: #059669;
      --color-amethyst: #7c3aed;
      --color-ruby: #dc2626;
      --color-amber: #d97706;
      --color-topaz: #0ea5e9;
      --color-jade: #10b981;
      --color-coral: #f97316;
      --color-pearl: #94a3b8;
      --color-gold: #f59e0b;
      --color-silver: #64748b;
      --color-bronze: #b45309;
      --color-platinum: #475569;
      --color-diamond: #e2e8f0;
      --color-onyx: #1e293b;
    }
    
    /* Dark Theme Variables */
    .dark-theme {
      --primary: #8b5cf6;
      --primary-dark: #7c3aed;
      --secondary: #94a3b8;
      --accent: #a78bfa;
      --success: #34d399;
      --info: #38bdf8;
      --warning: #fbbf24;
      --danger: #f87171;
      --card-bg: #1e293b;
      --soft-bg: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --border: #475569;
      --page-grad: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      --card-shadow: 0 8px 32px rgba(0,0,0,0.3);
      
      /* Enhanced Professional Color Palette for Dark Theme */
      --color-sapphire: #3b82f6;
      --color-emerald: #10b981;
      --color-amethyst: #8b5cf6;
      --color-ruby: #ef4444;
      --color-amber: #f59e0b;
      --color-topaz: #0ea5e9;
      --color-jade: #34d399;
      --color-coral: #fb923c;
      --color-pearl: #cbd5e1;
      --color-gold: #fbbf24;
      --color-silver: #94a3b8;
      --color-bronze: #d97706;
      --color-platinum: #64748b;
      --color-diamond: #f1f5f9;
      --color-onyx: #0f172a;
    }

    html,body{
      height:100%;
      font-family: var(--professional-font);
    }
    body{
      background:var(--page-grad);
      padding:20px;
      transition: all 0.4s ease;
      color: var(--text-primary);
    }
    .bengali-font {
      font-family: var(--bengali-font) !important;
      font-weight: 500;
    }

    /* Watermark for Print */
    @media print {
      body::before {
        content: "Crafted by Rafis";
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(-45deg);
        font-size: 60px;
        color: rgba(0, 0, 0, 0.08) !important;
        z-index: 9999;
        font-weight: bold;
        white-space: nowrap;
        pointer-events: none;
        font-family: var(--professional-font);
        opacity: 0.7;
      }
    }

    /* Main Container */
    .container {
      max-width: 1200px;
    }

    /* App Card Styling */
    .app-card{
      background:var(--card-bg);
      border-radius:20px;
      padding:2.5rem;
      box-shadow:var(--card-shadow);
      border: none;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    .app-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.15);
    }
    .dark-theme .app-card:hover {
      box-shadow: 0 12px 40px rgba(0,0,0,0.4);
    }

    /* Calendar Boxes */
    .calendar-box{
      background:var(--soft-bg);
      border-radius:15px;
      padding:1.5rem;
      border-left: 4px solid var(--accent);
      transition: all 0.3s ease;
    }
    .calendar-box:hover {
      transform: translateX(5px);
    }

    /* Typography */
    .calendar-title{
      font-weight:600;
      color: var(--color-sapphire) !important;
      margin-bottom:12px;
      font-size:1.1rem;
    }
    .highlight{
      font-weight:700;
      font-size:1.05em;
    }
    .muted{
      color:var(--text-muted);
      font-size:0.95em;
    }
    
    /* Date Display Colors - FIXED */
    .date-display {
      color: var(--color-emerald) !important;
      font-weight: 600;
      font-size: 1.1rem;
    }
    .date-detail {
      color: var(--color-silver) !important;
      font-size: 0.9rem;
    }
    
    /* Dividers */
    .divider{
      height:2px;
      background:linear-gradient(90deg, transparent, var(--accent), transparent);
      margin:2rem 0;
      border-radius:2px;
      opacity:0.6;
    }

    /* Professional Footer */
    .professional-footer {
      text-align: center;
      margin-top: 3rem;
      padding: 2rem 1rem 1rem;
      border-top: 1px solid var(--border);
      background: linear-gradient(135deg, var(--soft-bg), transparent);
      border-radius: 0 0 20px 20px;
    }
    .footer-content {
      font-family: var(--professional-font);
      color: var(--text-muted);
    }
    .footer-brand {
      font-weight: 700;
      color: var(--primary);
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }
    .footer-tagline {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-bottom: 0.5rem;
    }
    .footer-copyright {
      font-size: 0.85rem;
      opacity: 0.7;
    }
    .footer-heart {
      color: var(--danger);
      animation: heartbeat 2s infinite;
      margin: 0 0.25rem;
    }
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Countdown Animation - REMOVED PULSE EFFECT */
    .countdown-item {
      transition: all 0.5s ease-in-out;
      transform-origin: center;
    }

    /* Fade-in Animation */
    .fade-in {
      animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }

    /* Action Buttons Styling */
    .action-buttons {
      background: var(--soft-bg);
      border-radius: 15px;
      padding: 1.5rem;
      margin: 2rem 0 1rem;
      border: 2px dashed var(--accent);
      opacity: 0.9;
    }
    .action-buttons:hover {
      opacity: 1;
      border-style: solid;
    }

    /* Share Buttons Container */
    .share-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    .share-btn {
      border-radius: 10px;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      transition: all 0.3s ease;
      border: none;
      text-align: center;
      width: 100%;
    }
    .share-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }

    /* Dark Theme Enhancements */
    .dark-theme .calendar-box {
      background: var(--soft-bg);
      border-left: 4px solid var(--accent);
    }
    .dark-theme .list-group-item {
      background-color: var(--soft-bg);
      border-color: var(--border);
      color: var(--text-primary);
      transition: all 0.3s ease;
    }
    .dark-theme .list-group-item:hover {
      background-color: #475569;
    }
    .dark-theme .form-control {
      background-color: var(--soft-bg);
      border-color: var(--border);
      color: var(--text-primary);
    }
    .dark-theme .form-control:focus {
      background-color: #475569;
      border-color: var(--accent);
      box-shadow: 0 0 0 0.2rem rgba(139, 92, 246, 0.25);
    }
    .dark-theme .btn-outline-secondary {
      border-color: var(--border);
      color: var(--text-primary);
    }

    /* Button Enhancements */
    .btn {
      border-radius: 10px;
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 0.75rem 1.5rem;
      font-family: var(--professional-font);
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--color-sapphire), var(--color-topaz));
      border: none;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
    }
    .btn-success {
      background: linear-gradient(135deg, var(--color-emerald), var(--color-jade));
      border: none;
    }
    .btn-info {
      background: linear-gradient(135deg, var(--color-topaz), #0284c7);
      border: none;
    }
    .btn-warning {
      background: linear-gradient(135deg, var(--color-amber), var(--color-bronze));
      border: none;
    }
    .btn-danger {
      background: linear-gradient(135deg, var(--color-ruby), #dc2626);
      border: none;
    }
    .btn-sm {
      padding: 0.5rem 1rem;
      border-radius: 8px;
    }

    /* Form Controls */
    .form-control {
      border-radius: 10px;
      padding: 0.75rem 1rem;
      border: 2px solid var(--border);
      transition: all 0.3s ease;
      font-family: var(--professional-font);
      color: var(--text-primary);
      background: var(--card-bg);
    }
    .form-control:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 0.2rem rgba(139, 92, 246, 0.25);
    }

    /* List Group Enhancements */
    .list-group-item {
      border-radius: 8px !important;
      margin-bottom: 0.5rem;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
      background: var(--card-bg);
      color: var(--text-primary);
    }
    .list-group-item:hover {
      background-color: var(--soft-bg);
      transform: translateX(5px);
    }

    /* Time Input Styling */
    .time-input-group {
      background: var(--soft-bg);
      border-radius: 10px;
      padding: 1rem;
      margin-top: 1rem;
    }
    .time-input-label {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    /* Print Styles */
    @media print{
      body{
        background:#fff !important;
        padding:0;
        color: #000 !important;
      }
      .no-print{
        display:none !important;
      }
      .app-card{
        box-shadow:none !important;
        border:none !important;
        padding:1rem;
        background: #fff !important;
      }
      .professional-footer{
        display: none !important;
      }
      
      /* Main Title - Force Dark Blue in Print */
      .professional-title {
        color: #1e40af !important;
        text-shadow: none !important;
        -webkit-text-fill-color: #1e40af !important;
      }
      
      /* Date Display Colors for Print */
      .date-display {
        color: #1e40af !important; /* Dark blue for print */
        font-weight: bold;
      }
      .date-detail {
        color: #374151 !important; /* Dark gray for print */
      }
      
      /* Hide input sections and labels from print */
      .form-label, .form-text, .birth-time-input, .time-input-group,
      .example-date, .input-section {
        display: none !important;
      }
      
      /* Ensure text colors are proper for print */
      .list-group-item, .small-muted, .muted, .highlight, .section-title,
      .calendar-title, .text-primary, .text-success, .text-info, .text-warning {
        color: #000 !important;
        background: #fff !important;
      }
      
      .highlight {
        color: #1e40af !important; /* Dark blue for highlights in print */
        font-weight: bold;
      }
      
      /* Hide calendar sections in print */
      .calendar-section { 
        display: none !important; 
      }
      /* Hide zodiac info in print */
      .zodiac-info { 
        display: none !important; 
      }
      /* Keep next birthday information in print */
      .birthday-countdown { 
        display: block !important; 
      }
      .btn, .action-buttons {
        display: none !important;
      }
    }
    
    /* Responsive Design */
    @media (max-width: 768px){
      .app-card{
        padding:1.5rem;
        border-radius:15px;
      }
      h1{
        font-size:1.5rem;
      }
      .calendar-box{
        padding:1rem;
      }
    }

    @media (max-width: 575.98px){
      body{
        padding:10px;
      }
      .app-card{
        padding:1.25rem;
        border-radius:12px;
      }
      h1{
        font-size:1.25rem;
      }
    }

    /* Text Styling */
    .small-muted{
      font-size:.92rem;
      color:var(--text-muted);
    }
    
    /* Zodiac Styles */
    .zodiac-sign {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px;
      background: var(--soft-bg);
      border-radius: 25px;
      margin: 5px 0;
      border: 1px solid var(--border);
    }
    
    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid var(--soft-bg);
      border-top: 3px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Professional Typography - FIXED FOR WEB VIEW */
    .professional-title {
      font-weight: 700;
      letter-spacing: -0.02em;
      color: white !important;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      font-family: var(--professional-font);
    }
    .dark-theme .professional-title {
      color: white !important;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    .section-title {
      font-weight: 600;
      margin-bottom: 1.25rem;
      font-size: 1.25rem;
      color: var(--text-primary);
      font-family: var(--professional-font);
    }

    /* Example Date Buttons */
    .example-date {
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .example-date:hover {
      transform: translateY(-2px);
    }

    /* Icon Styling */
    .bi {
      margin-right: 5px;
    }

    /* Toast Notification */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1055;
    }
    .toast {
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    /* Professional Color Classes - ENHANCED */
    .text-primary { color: var(--color-sapphire) !important; }
    .text-success { color: var(--color-emerald) !important; }
    .text-info { color: var(--color-topaz) !important; }
    .text-warning { color: var(--color-amber) !important; }
    .text-danger { color: var(--color-ruby) !important; }
    .text-muted { color: var(--text-muted) !important; }
    .text-amethyst { color: var(--color-amethyst) !important; }
    .text-jade { color: var(--color-jade) !important; }
    .text-coral { color: var(--color-coral) !important; }
    .text-gold { color: var(--color-gold) !important; }
    .text-silver { color: var(--color-silver) !important; }
    .text-bronze { color: var(--color-bronze) !important; }
    .text-platinum { color: var(--color-platinum) !important; }

    .bg-primary { background-color: var(--primary) !important; }
    .bg-success { background-color: var(--success) !important; }
    .bg-info { background-color: var(--info) !important; }
    .bg-warning { background-color: var(--warning) !important; }
    .bg-danger { background-color: var(--danger) !important; }

    /* Birth Time Input */
    .birth-time-input {
      background: var(--soft-bg);
      border-radius: 10px;
      padding: 1rem;
      margin-top: 1rem;
      border: 2px solid var(--border);
    }

    /* Input Section for Print Control */
    .input-section {
      /* This class wraps the input area for easy print control */
    }
    
    /* Name Display in Results */
    .name-display {
      font-weight: 700;
      color: var(--color-amethyst);
      font-size: 1.2rem;
      margin-bottom: 1rem;
      text-align: center;
      padding: 0.5rem;
      background: var(--soft-bg);
      border-radius: 10px;
      border-left: 4px solid var(--color-amethyst);
    }
    
    /* Enhanced color highlights for list items */
    .list-group-item:nth-child(1) .highlight { color: var(--color-sapphire) !important; }
    .list-group-item:nth-child(2) .highlight { color: var(--color-emerald) !important; }
    .list-group-item:nth-child(3) .highlight { color: var(--color-amethyst) !important; }
    .list-group-item:nth-child(4) .highlight { color: var(--color-amber) !important; }
    .list-group-item:nth-child(5) .highlight { color: var(--color-ruby) !important; }
    .list-group-item:nth-child(6) .highlight { color: var(--color-coral) !important; }
    .list-group-item:nth-child(7) .highlight { color: var(--color-gold) !important; }
    
    /* Next birthday items */
    .birthday-countdown .list-group-item:nth-child(1) .highlight { color: var(--color-jade) !important; }
    .birthday-countdown .list-group-item:nth-child(2) .highlight { color: var(--color-topaz) !important; }
    .birthday-countdown .list-group-item:nth-child(3) .highlight { color: var(--color-bronze) !important; }
    .birthday-countdown .list-group-item:nth-child(4) .highlight { color: var(--color-platinum) !important; }
    
    /* Required field styling */
    .required-field::after {
      content: " *";
      color: var(--color-ruby);
    }
    
    /* Calendar Title Styling - FIXED */
    .calendar-title.professional-title {
      color: var(--color-sapphire) !important;
      text-shadow: none;
      -webkit-text-fill-color: var(--color-sapphire);
    }
  </style>
</head>
<body>
  <!-- Toast Container for Notifications -->
  <div class="toast-container"></div>

  <div class="container">
    <h1 class="text-center mb-4 fade-in professional-title">
      <i class="bi bi-calculator"></i>Precision Age Calculator | বয়স গণনা
    </h1>

    <div class="app-card fade-in">
      <!-- Input Section - Hidden in Print -->
      <div class="input-section no-print">
        <div class="row g-3 align-items-end">
          <div class="col-lg-8 col-md-7 col-12">
            <!-- Name Input - NOW MANDATORY -->
            <label for="personName" class="form-label small-muted fw-semibold required-field">
              <i class="bi bi-person text-sapphire"></i>Name | নাম
            </label>
            <input id="personName" type="text" class="form-control no-print form-control-lg" placeholder="Enter your name" required />
            
            <label for="dob" class="form-label small-muted fw-semibold mt-3 required-field">
              <i class="bi bi-calendar3 text-emerald"></i>Date of Birth | জন্ম তারিখ
            </label>
            <input id="dob" type="date" class="form-control no-print form-control-lg" required />
            
            <!-- Birth Time Input - NOW MANDATORY -->
            <div class="birth-time-input no-print">
              <label class="form-label small-muted fw-semibold required-field">
                <i class="bi bi-clock text-amethyst"></i>Birth Time | জন্ম সময়
              </label>
              <div class="row g-2 align-items-center">
                <div class="col-md-4 col-12">
                  <input type="time" id="birthTime" class="form-control" value="00:00" required>
                </div>
                <div class="col-md-8 col-12">
                  <div class="form-text">
                    <i class="bi bi-info-circle text-silver"></i> Select your birth time for precise calculation
                  </div>
                </div>
              </div>
            </div>

            <div class="form-text small-muted mt-1">
              <i class="bi bi-info-circle text-silver"></i>Select your birth date and time for accurate age calculation
            </div>
          </div>
          <div class="col-lg-4 col-md-5 col-12 d-grid">
            <button id="startBtn" class="btn btn-primary btn-lg no-print">
              <span id="btnText"><i class="bi bi-calculator-fill"></i>Calculate Age | বয়স দেখুন</span>
              <span id="btnLoading" class="loading" style="display:none;"></span>
            </button>
          </div>
        </div>

        <!-- Example Dates -->
        <div class="row mt-4 no-print">
          <div class="col-12">
            <label class="form-label small-muted fw-semibold mb-2">
              <i class="bi bi-lightning text-amber"></i>Quick Examples:
            </label>
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-sm btn-outline-primary example-date" data-date="1990-01-01">
                <i class="bi bi-1-circle"></i>1990
              </button>
              <button class="btn btn-sm btn-outline-primary example-date" data-date="2000-06-15">
                <i class="bi bi-2-circle"></i>2000
              </button>
              <button class="btn btn-sm btn-outline-primary example-date" data-date="2010-12-25">
                <i class="bi bi-3-circle"></i>2010
              </button>
              <button class="btn btn-sm btn-outline-primary example-date" data-date="1985-03-08">
                <i class="bi bi-4-circle"></i>1985
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="result" style="display:none;margin-top:30px">
        <!-- Name Display - Visible in Print -->
        <div id="nameDisplay" class="name-display"></div>
        
        <!-- Calendar Section - Hidden in Print -->
        <div class="row calendar-section">
          <div class="col-md-6 col-12 mb-3">
            <div class="calendar-box h-100">
              <div class="calendar-title">
                <i class="bi bi-calendar-check text-sapphire"></i>Current Date & Time | বর্তমান তারিখ ও সময়
              </div>
              <div id="currentCalendar" class="date-display fs-5"></div>
              <div id="currentCalendarDetail" class="date-detail small-muted mt-2"></div>
            </div>
          </div>

          <div class="col-md-6 col-12 mb-3">
            <div class="calendar-box h-100">
              <div class="calendar-title">
                <i class="bi bi-gift text-emerald"></i>Birth Date & Time | জন্ম তারিখ ও সময়
              </div>
              <div id="dobCalendar" class="date-display fs-5"></div>
              <div id="dobCalendarDetail" class="date-detail small-muted mt-2"></div>
            </div>
          </div>
        </div>

        <div class="divider calendar-section"></div>

        <!-- Zodiac Sign - Hidden in Print -->
        <div class="mb-4 zodiac-info">
          <h5 class="text-info section-title">
            <i class="bi bi-stars text-topaz"></i>Zodiac Information | রাশিচক্র
          </h5>
          <div id="zodiacInfo" class="small-muted"></div>
        </div>

        <h5 class="text-info section-title">
          <i class="bi bi-graph-up text-sapphire"></i>Age Analysis | বয়স বিশ্লেষণ
        </h5>
        <div class="row">
          <div class="col-12">
            <ul class="list-group">
              <li class="list-group-item small-muted">
                <i class="bi bi-person text-sapphire"></i>Chronological Age: 
                <span id="years" class="highlight"></span> years, 
                <span id="months" class="highlight"></span> months, 
                <span id="days" class="highlight"></span> days
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-calendar-month text-emerald"></i>Total Duration: 
                <span id="totalMonths" class="highlight"></span> months, 
                <span id="extraDays" class="highlight"></span> days
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-calendar-week text-amethyst"></i>Weekly Breakdown: 
                <span id="weeks" class="highlight"></span> weeks, 
                <span id="weekDays" class="highlight"></span> days
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-calendar-day text-amber"></i>Cumulative Days: 
                <span id="totalDays" class="highlight"></span> days
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-clock text-ruby"></i>Hours Lived: 
                <span id="hours" class="highlight"></span> hours
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-clock-history text-coral"></i>Minutes Lived: 
                <span id="minutes" class="highlight"></span> minutes
              </li>
              <li class="list-group-item small-muted">
                <i class="bi bi-stopwatch text-gold"></i>Seconds Lived: 
                <span id="seconds" class="highlight"></span> seconds
              </li>
            </ul>
          </div>
        </div>

        <!-- NEXT BIRTHDAY FOOTER - Visible in Print -->
        <div class="mt-4 border-top pt-4 birthday-countdown">
          <h5 class="text-success section-title">
            <i class="bi bi-balloon text-jade"></i>Next Birthday Analysis | পরবর্তী জন্মদিন
          </h5>
          <p class="small-muted mb-3">
            <i class="bi bi-calendar-event text-topaz"></i>Upcoming Birthday: 
            <span id="nextBirthdayDate" class="highlight"></span>
          </p>
          <div class="row">
            <div class="col-12">
              <ul class="list-group">
                <li class="list-group-item small-muted countdown-item">
                  <i class="bi bi-sun text-jade"></i>Days Remaining: 
                  <span id="daysLeft" class="highlight"></span>
                </li>
                <li class="list-group-item small-muted countdown-item">
                  <i class="bi bi-clock text-topaz"></i>Hours Remaining: 
                  <span id="hoursLeft" class="highlight"></span>
                </li>
                <li class="list-group-item small-muted countdown-item">
                  <i class="bi bi-hourglass-split text-bronze"></i>Minutes Remaining: 
                  <span id="minutesLeft" class="highlight"></span>
                </li>
                <li class="list-group-item small-muted countdown-item">
                  <i class="bi bi-stopwatch text-platinum"></i>Seconds Remaining: 
                  <span id="secondsLeft" class="highlight"></span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons no-print">
          <h5 class="text-center section-title mb-4">
            <i class="bi bi-share text-amethyst"></i>Share & Export | শেয়ার ও এক্সপোর্ট
          </h5>
          <div class="share-buttons">
            <button class="btn btn-primary share-btn" onclick="printReport()">
              <i class="bi bi-printer-fill"></i>Print Report
            </button>
            <button class="btn btn-success share-btn" onclick="shareToWhatsApp()">
              <i class="bi bi-whatsapp"></i>Share on WhatsApp
            </button>
            <button class="btn btn-info share-btn" onclick="shareToTelegram()">
              <i class="bi bi-telegram"></i>Share on Telegram
            </button>
            <button class="btn btn-primary share-btn" onclick="shareToFacebook()">
              <i class="bi bi-facebook"></i>Share on Facebook
            </button>
            <button class="btn btn-info share-btn" onclick="shareToTwitter()">
              <i class="bi bi-twitter"></i>Share on Twitter
            </button>
            <button class="btn btn-secondary share-btn" onclick="copyToClipboard()">
              <i class="bi bi-clipboard-check"></i>Copy to Clipboard
            </button>
          </div>
        </div>

        <!-- Professional Footer - Hidden in Print -->
        <div class="professional-footer no-print">
          <div class="footer-content">
            <div class="footer-brand">
              <i class="bi bi-calculator"></i> Precision Age Calculator
            </div>
            <div class="footer-tagline">
              Advanced Chronological Analysis Tool
            </div>
            <div class="footer-copyright">
              Crafted with <span class="footer-heart">❤️</span> by Rafis 
              <span class="mx-2">•</span> 
              Est. <span id="currentYear"></span>
              <span class="mx-2">•</span>
              All rights reserved
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // JavaScript code with updated zodiac function
    let dob = null;
    let intervalId = null;

    const startBtn = document.getElementById('startBtn');
    const resultEl = document.getElementById('result');
    const dobInput = document.getElementById('dob');
    const birthTimeInput = document.getElementById('birthTime');
    const personNameInput = document.getElementById('personName');
    const nameDisplayEl = document.getElementById('nameDisplay');
    const btnText = document.getElementById('btnText');
    const btnLoading = document.getElementById('btnLoading');
    const currentYearEl = document.getElementById('currentYear');

    // Set current year in footer
    currentYearEl.textContent = new Date().getFullYear();

    // Event Listeners
    startBtn.addEventListener('click', startLiveAge);

    // Example date buttons
    document.querySelectorAll('.example-date').forEach(btn => {
      btn.addEventListener('click', (e) => {
        dobInput.value = e.target.dataset.date;
      });
    });

    // Automatic System Theme Detection
    function detectSystemTheme() {
      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark-theme');
      } else {
        document.body.classList.remove('dark-theme');
      }
    }

    // Listen for system theme changes
    if (window.matchMedia) {
      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
      mediaQuery.addEventListener('change', detectSystemTheme);
    }

    function startLiveAge(){
      const val = dobInput.value;
      if(!val) { 
        showToast('Please select a valid date of birth.', 'warning');
        return; 
      }

      // Get name from input - NOW MANDATORY
      const personName = personNameInput.value.trim();
      if (!personName) {
        showToast('Please enter your name.', 'warning');
        return;
      }

      // Display name in results
      nameDisplayEl.textContent = personName;

      // Get birth time - NOW MANDATORY
      const birthTime = birthTimeInput.value;
      if (!birthTime) {
        showToast('Please select your birth time.', 'warning');
        return;
      }

      // Show loading state
      btnText.style.display = 'none';
      btnLoading.style.display = 'inline-block';

      setTimeout(() => {
        dob = new Date(val + 'T' + birthTime);
        
        // Show results
        resultEl.style.display = 'block';
        
        // Hide loading state
        btnText.style.display = 'inline';
        btnLoading.style.display = 'none';
        
        // Start live updates
        updateAge();
        if(intervalId) clearInterval(intervalId);
        intervalId = setInterval(updateAge, 1000);
      }, 800);
    }

    function updateAge(){
      if(!dob) return;
      
      const now = new Date();
      const diff = now - dob;
      
      // Calculate years, months, days
      let years = now.getFullYear() - dob.getFullYear();
      let months = now.getMonth() - dob.getMonth();
      let days = now.getDate() - dob.getDate();
      
      if (days < 0) {
        months--;
        // Get days in previous month
        const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
        days += prevMonth.getDate();
      }
      
      if (months < 0) {
        years--;
        months += 12;
      }
      
      // Calculate total months and extra days
      const totalMonths = years * 12 + months;
      const extraDays = days;
      
      // Calculate weeks and days
      const totalDays = Math.floor(diff / (1000 * 60 * 60 * 24));
      const weeks = Math.floor(totalDays / 7);
      const weekDays = totalDays % 7;
      
      // Calculate hours, minutes, seconds
      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor(diff / (1000 * 60));
      const seconds = Math.floor(diff / 1000);
      
      // Update DOM
      document.getElementById('years').textContent = years;
      document.getElementById('months').textContent = months;
      document.getElementById('days').textContent = days;
      document.getElementById('totalMonths').textContent = totalMonths;
      document.getElementById('extraDays').textContent = extraDays;
      document.getElementById('weeks').textContent = weeks;
      document.getElementById('weekDays').textContent = weekDays;
      document.getElementById('totalDays').textContent = totalDays.toLocaleString();
      document.getElementById('hours').textContent = hours.toLocaleString();
      document.getElementById('minutes').textContent = minutes.toLocaleString();
      document.getElementById('seconds').textContent = seconds.toLocaleString();
      
      // Update current date display
      document.getElementById('currentCalendar').textContent = now.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      document.getElementById('currentCalendarDetail').textContent = now.toLocaleTimeString('en-US', { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
      });
      
      // Update birth date display
      document.getElementById('dobCalendar').textContent = dob.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      document.getElementById('dobCalendarDetail').textContent = dob.toLocaleTimeString('en-US', { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
      });
      
      // Update next birthday countdown
      updateNextBirthdayCountdown(now);
      
      // Update zodiac information
      updateZodiacInfo();
    }

    function updateNextBirthdayCountdown(now) {
      const nextBirthday = new Date(now.getFullYear(), dob.getMonth(), dob.getDate());
      if (nextBirthday < now) {
        nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
      }
      
      document.getElementById('nextBirthdayDate').textContent = nextBirthday.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      
      const diff = nextBirthday - now;
      const daysLeft = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hoursLeft = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutesLeft = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const secondsLeft = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('daysLeft').textContent = daysLeft;
      document.getElementById('hoursLeft').textContent = hoursLeft;
      document.getElementById('minutesLeft').textContent = minutesLeft;
      document.getElementById('secondsLeft').textContent = secondsLeft;
    }

    // Updated zodiac function with Bengali names
    function updateZodiacInfo() {
      const month = dob.getMonth() + 1; // JavaScript months are 0-indexed
      const day = dob.getDate();
      let zodiacSign = '';
      let zodiacBengali = '';
      let zodiacDates = '';
      
      if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) {
        zodiacSign = 'Aries';
        zodiacBengali = 'মেষ';
        zodiacDates = 'March 21 - April 19';
      } else if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) {
        zodiacSign = 'Taurus';
        zodiacBengali = 'বৃষ';
        zodiacDates = 'April 20 - May 20';
      } else if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) {
        zodiacSign = 'Gemini';
        zodiacBengali = 'মিথুন';
        zodiacDates = 'May 21 - June 20';
      } else if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) {
        zodiacSign = 'Cancer';
        zodiacBengali = 'কর্কট';
        zodiacDates = 'June 21 - July 22';
      } else if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) {
        zodiacSign = 'Leo';
        zodiacBengali = 'সিংহ';
        zodiacDates = 'July 23 - August 22';
      } else if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) {
        zodiacSign = 'Virgo';
        zodiacBengali = 'কন্যা';
        zodiacDates = 'August 23 - September 22';
      } else if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) {
        zodiacSign = 'Libra';
        zodiacBengali = 'তুলা';
        zodiacDates = 'September 23 - October 22';
      } else if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) {
        zodiacSign = 'Scorpio';
        zodiacBengali = 'বৃশ্চিক';
        zodiacDates = 'October 23 - November 21';
      } else if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) {
        zodiacSign = 'Sagittarius';
        zodiacBengali = 'ধনু';
        zodiacDates = 'November 22 - December 21';
      } else if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) {
        zodiacSign = 'Capricorn';
        zodiacBengali = 'মকর';
        zodiacDates = 'December 22 - January 19';
      } else if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) {
        zodiacSign = 'Aquarius';
        zodiacBengali = 'কুম্ভ';
        zodiacDates = 'January 20 - February 18';
      } else if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) {
        zodiacSign = 'Pisces';
        zodiacBengali = 'মীন';
        zodiacDates = 'February 19 - March 20';
      }
      
      const zodiacInfoEl = document.getElementById('zodiacInfo');
      zodiacInfoEl.innerHTML = `
        <div class="zodiac-sign">
          <span class="fw-bold text-sapphire">${zodiacSign}</span>
          <span class="bengali-font text-emerald">${zodiacBengali}</span>
          <span class="text-silver">(${zodiacDates})</span>
        </div>
      `;
    }

    // Toast notification function
    function showToast(message, type = 'info') {
      const toastContainer = document.querySelector('.toast-container');
      const toastId = 'toast-' + Date.now();
      
      const toast = document.createElement('div');
      toast.className = `toast align-items-center text-bg-${type} border-0`;
      toast.id = toastId;
      toast.setAttribute('role', 'alert');
      toast.setAttribute('aria-live', 'assertive');
      toast.setAttribute('aria-atomic', 'true');
      
      toast.innerHTML = `
        <div class="d-flex">
          <div class="toast-body">
            <i class="bi bi-${getToastIcon(type)} me-2"></i>${message}
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      `;
      
      toastContainer.appendChild(toast);
      
      const bsToast = new bootstrap.Toast(toast, { delay: 4000 });
      bsToast.show();
      
      // Remove toast from DOM after it's hidden
      toast.addEventListener('hidden.bs.toast', () => {
        toast.remove();
      });
    }
    
    function getToastIcon(type) {
      switch(type) {
        case 'success': return 'check-circle';
        case 'warning': return 'exclamation-triangle';
        case 'danger': return 'exclamation-circle';
        default: return 'info-circle';
      }
    }

    // Share functions
    function printReport() {
      window.print();
    }
    
    function shareToWhatsApp() {
      const name = personNameInput.value || 'User';
      const age = document.getElementById('years').textContent;
      const text = `Check out my age! I'm ${age} years old. Calculated with Precision Age Calculator.`;
      const url = `https://wa.me/?text=${encodeURIComponent(text)}`;
      window.open(url, '_blank');
    }
    
    function shareToTelegram() {
      const name = personNameInput.value || 'User';
      const age = document.getElementById('years').textContent;
      const text = `Check out my age! I'm ${age} years old. Calculated with Precision Age Calculator.`;
      const url = `https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(text)}`;
      window.open(url, '_blank');
    }
    
    function shareToFacebook() {
      const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
      window.open(url, '_blank');
    }
    
    function shareToTwitter() {
      const name = personNameInput.value || 'User';
      const age = document.getElementById('years').textContent;
      const text = `I'm ${age} years old! Check out this cool age calculator.`;
      const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(window.location.href)}`;
      window.open(url, '_blank');
    }
    
    // FIXED: Copy to Clipboard function
    function copyToClipboard() {
      // Get the current age data
      const name = personNameInput.value || 'User';
      const years = document.getElementById('years').textContent;
      const months = document.getElementById('months').textContent;
      const days = document.getElementById('days').textContent;
      const totalDays = document.getElementById('totalDays').textContent;
      const nextBirthday = document.getElementById('nextBirthdayDate').textContent;
      const daysLeft = document.getElementById('daysLeft').textContent;
      
      // Create a comprehensive text to copy
      const text = `Age Analysis for ${name}:
• Chronological Age: ${years} years, ${months} months, ${days} days
• Total Days Lived: ${totalDays} days
• Next Birthday: ${nextBirthday}
• Days Until Next Birthday: ${daysLeft} days

Calculated with Precision Age Calculator`;

      // Use the modern Clipboard API
      if (navigator.clipboard && window.isSecureContext) {
        // Use the modern clipboard API
        navigator.clipboard.writeText(text)
          .then(() => {
            showToast('Age details copied to clipboard!', 'success');
          })
          .catch(err => {
            // Fallback for older browsers
            fallbackCopyToClipboard(text);
          });
      } else {
        // Fallback for older browsers
        fallbackCopyToClipboard(text);
      }
    }

    // Fallback method for older browsers
    function fallbackCopyToClipboard(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      
      // Make the textarea out of viewport
      textArea.style.position = 'fixed';
      textArea.style.left = '-999999px';
      textArea.style.top = '-999999px';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      
      try {
        const successful = document.execCommand('copy');
        if (successful) {
          showToast('Age details copied to clipboard!', 'success');
        } else {
          showToast('Failed to copy to clipboard. Please copy manually.', 'warning');
        }
      } catch (err) {
        showToast('Failed to copy to clipboard. Please copy manually.', 'danger');
      }
      
      document.body.removeChild(textArea);
    }

    // Initialize system theme
    detectSystemTheme();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
